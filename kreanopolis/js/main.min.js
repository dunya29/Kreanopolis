document.querySelector(".preloader")&&window.addEventListener("load",(e=>{document.body.classList.add("loaded"),setTimeout((()=>{document.querySelector(".preloader").remove()}),500)}));const header=document.querySelector(".header"),mobMenu=document.querySelector(".mob-menu"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),modOpenBtn=document.querySelectorAll(".mod-open-btn"),modCloseBtn=document.querySelectorAll(".mod-close-btn"),successModal=document.querySelector(".success-mod"),errorModal=document.querySelector(".error-mod"),dropdown=document.querySelectorAll(".dropdown");let tablet=1250.98,mob=767.98,mm=gsap.matchMedia(),animSpd=300;function sprite(e){return'<svg><use xlink:href="img/icons/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function enableScroll(){document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")}function disableScroll(){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}function smoothDrop(e,t,o=!1){let s=o||500;if(t.style.overflow="hidden",t.style.transition=`height ${s}ms ease`,t.style["-webkit-transition"]=`height ${s}ms ease`,e.classList.contains("active")){e.classList.remove("animated");let o=t.clientHeight+"px";t.style.height=o,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),s)}),0)}else{e.classList.add("animated"),t.style.display="block";let o=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=o,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),s)}),0)}}function tabSwitch(e,t){e.forEach(((o,s)=>{o.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active"),e.querySelector(".split-list")&&e.querySelector(".split-list").classList.remove("animated")})),o.classList.add("active"),t[s].classList.add("active"),o.style.opacity="0",t[s].style.opacity="0",setTimeout((()=>{o.style.opacity="1",t[s].style.opacity="1",t[s].querySelector(".split-list")&&t[s].querySelector(".split-list").classList.add("animated")}),0)}))}))}const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarColor="#8120A5 #FFFFFF"),isFirefox&&customScroll&&customScroll.forEach((e=>{e.style.scrollbarColor="#8120A5 transparent"})),document.querySelector(".js-anchor")&&document.querySelectorAll(".js-anchor").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("href").indexOf("#");const s=e.getAttribute("href").substring(o);let r=document.querySelector(s);destPos=r.getBoundingClientRect().top<0?r.getBoundingClientRect().top-header.clientHeight-10:r.getBoundingClientRect().top-10,iconMenu.classList.contains("active")?(iconMenu.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()-0+destPos,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()-0+destPos,behavior:"smooth"})}))}));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{iconMenu.classList.contains("active")||(scrollPos()>1?(header.classList.add("scroll"),scrollPos()>lastScroll&&scrollPos()>150&&!header.classList.contains("unshow")?header.classList.add("unshow"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):(header.classList.remove("scroll"),header.classList.remove("unshow"))),lastScroll=scrollPos()}));const switchBlock=document.querySelectorAll(".switch-block");function openModal(e){let t=document.querySelector(".modal.open");t||iconMenu.classList.contains("active")||disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.classList.remove("open"),setTimeout((()=>{iconMenu.classList.contains("active")||enableScroll()}),animSpd)}function openDropdown(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(o){e.contains(o.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t,closeDropdown(e)}}function closeDropdown(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}function setSuccessTxt(e=!1,t=!1,o=!1){successModal.querySelector("h3").textContent=e||"Заявка успешно отправлена",successModal.querySelector(".modal__close span").textContent=o||"Ок",t&&(successModal.querySelector("p").textContent=t)}function setErrorTxt(e=!1,t=!1,o=!1){errorModal.querySelector("h3").textContent=e||"ошибка",errorModal.querySelector(".modal__close span").textContent=o||"Попробовать снова",t&&(errorModal.querySelector("p").textContent=t)}function openSuccessMod(e=!1,t=!1,o=!1){setSuccessTxt(e,t,o),openModal(successModal)}function openErrorMod(e=!1,t=!1,o=!1){setErrorTxt(e,t,o),openModal(errorModal)}function formSuccess(e){e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelector("[data-error]")&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value="",e.querySelector("textarea").style.height=null),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-nav]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{(!e.querySelector(".modal__content").contains(t.target)||e.querySelector(".btn-close").contains(t.target)||e.querySelector(".modal__close")&&e.querySelector(".modal__close").contains(t.target))&&closeModal(e)}))})),modOpenBtn&&modOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");openModal(document.getElementById(o))}))})),modCloseBtn&&modCloseBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("data-modal");closeModal(document.getElementById(o))}))})),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)}))}));const inp=document.querySelectorAll("input[type=tel]");function addFile(e,t){let o=t.getAttribute("file-types");for(let s=0;s<e.length;s++){let r=e[s];if(r.size>10485760)return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent="Файл должен быть менее 10 МБ");if(!r.type||!o.includes(r.type))return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent="Ошибка. Загрузите файлы в одном из указанных форматов");{t.classList.remove("error"),t.classList.add("checked"),t.querySelector("[data-error]").textContent="";let e=new FileReader;e.readAsDataURL(r),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">         \n            <div class="file-form__name">${r.name}</div> \n\t\t\t<div class="file-form__del"></div>        \n         </div>\n        `)},e.onerror=()=>{console.log(e.error)}}}}inp&&inp.forEach((e=>{Inputmask({mask:"+7-999-999-9999"}).mask(e)})),document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((o,s)=>{if(o.contains(t.target)){const t=new DataTransfer,r=e.querySelector("input"),{files:l}=r;for(let e=0;e<l.length;e++){let o=l[e];e!==s&&t.items.add(o)}r.files=t.files,setTimeout((()=>{o.parentNode.remove(),e.classList.remove("checked")}),0)}}))})),e.querySelector("label").addEventListener("dragenter",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("dragover",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("dragleave",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("drop",(function(t){t.preventDefault();const o=new DataTransfer;o.items.add(t.dataTransfer.files[0]);let s=Array.from(o.files);e.querySelector("input").files=o.files,e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(s,e)}))})),iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?(enableScroll(),iconMenu.classList.remove("active"),iconMenu.setAttribute("aria-label","Открыть меню"),mobMenu.classList.remove("show")):(disableScroll(),iconMenu.classList.add("active"),iconMenu.setAttribute("aria-label","Закрыть меню"),mobMenu.classList.add("show"))})),window.addEventListener("resize",(()=>{iconMenu.classList.contains("active")&&window.innerWidth>tablet&&iconMenu.click()}));const section=document.querySelectorAll("main>section"),fixedSec=document.querySelector(".fixed-sec"),pageWrap=document.querySelector(".wrap");function showFixedSec(){pageWrap.style.paddingBottom=fixedSec.clientHeight+"px",section[1].getBoundingClientRect().top<0?fixedSec.classList.add("show"):fixedSec.classList.remove("show")}section&&section[1]&&(showFixedSec(),window.addEventListener("scroll",showFixedSec));const advantSec=document.querySelector(".advant-sec"),stickyParent=document.querySelector(".advant-sec__sticky"),stickyItem=document.querySelector(".advant-sec .sec-title"),scrollItems=document.querySelector(".advant-sec__scroll");if(advantSec){function fixedItem(){stickyParent.style.position="relative",stickyItem.style.maxWidth=stickyParent.clientWidth+"px",scrollItems.scrollHeight>stickyItem.clientHeight&&window.addEventListener("scroll",(()=>{let e=stickyItem.clientHeight,t=scrollPos()+scrollItems.getBoundingClientRect().top,o=t+scrollItems.offsetHeight-e;scrollPos()>t&&scrollPos()<o?(stickyItem.style.position="fixed",stickyItem.style.top="0",stickyItem.style.bottom="auto",header.classList.add("unshow")):scrollPos()<t?(stickyItem.style.position="absolute",stickyItem.style.top="0",stickyItem.style.bottom="auto"):scrollPos()>o&&(stickyItem.style.position="absolute",stickyItem.style.top="auto",stickyItem.style.bottom="0"),scrollItems.getBoundingClientRect().top<0&&scrollItems.getBoundingClientRect().bottom-window.innerHeight>0?scrollItems.classList.add("extra"):scrollItems.classList.remove("extra")}))}fixedItem(),window.addEventListener("resize",(()=>fixedItem())),window.addEventListener("orientationChange",(()=>fixedItem()))}const stagesSec=document.querySelector(".stages-sec"),itemStages=document.querySelectorAll(".item-stage");if(stagesSec&&itemStages.length>0){let e=itemStages.length;mm.add("(min-width: 767.98px)",(()=>{let t={value:0},o=gsap.timeline({scrollTrigger:{trigger:stagesSec,pin:!0,scrub:!0,start:"top 15% center",invalidateOnRefresh:!0,end:"+="+800*e,onUpdate:e=>{itemStages.forEach((e=>e.classList.remove("active"))),itemStages[Math.round(t.value)].classList.add("active")}}});o.to(t,{value:e-1,ease:"none"}),o.to(stagesSec.querySelector(".stages-sec__items"),{x:-(stagesSec.querySelector(".stages-sec__items").scrollWidth-stagesSec.querySelector(".stages-sec__items").offsetWidth),ease:"none"},0)})),itemStages.forEach((e=>{mm.add("(max-width: 767.98px)",(()=>{gsap.to(e,{scrollTrigger:{trigger:e,scrub:!0,start:"top 40px top",invalidateOnRefresh:!0,onUpdate:t=>{itemStages.forEach((e=>e.classList.remove("active"))),e.classList.add("active")}}})}))}))}const introTitle=document.querySelectorAll(".intro__title svg");introTitle.length&&setTimeout((()=>{introTitle.forEach(((e,t)=>{gsap.fromTo(e.querySelectorAll("path"),{yPercent:150,opacity:0},{yPercent:0,opacity:1,duration:.4,delay:e=>.04*e+.4*t})}))}),100);const secTitles=document.querySelectorAll(".sec-title");secTitles&&secTitles.forEach((e=>{let t=e.innerHTML.split(/<br>|\&nbsp;/g);e.innerHTML="";let o=0;t.forEach((t=>{line=t.split(" ");let s=document.createElement("span");s.classList.add("lineWrapper"),e.append(s),line.forEach((e=>{e.split(" ").forEach((e=>{let t=document.createElement("span");t.classList.add("wordWrapper"),s.append(t),e.split("").forEach((e=>{let s=document.createElement("span");s.innerHTML=e,s.classList.add("char"),s.setAttribute("data-i",o),s.setAttribute("style",`--char-i: ${o}`),t.append(s),o++}))}))}))})),gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom-=200",invalidateOnRefresh:!0}}).fromTo(e.querySelectorAll(".char"),{opacity:0,yPercent:50},{yPercent:0,opacity:1,duration:.4,delay:e=>.03*e})}));const splitList=document.querySelectorAll(".split-list");splitList&&splitList.forEach((e=>{e.querySelectorAll("li").forEach(((e,t)=>e.style.setProperty("--item-i",t))),gsap.from(e.querySelector("li"),{scrollTrigger:{trigger:e,start:"top bottom-=200",invalidateOnRefresh:!0,onEnter:()=>{e.classList.add("animated")}}})}));const itemProgram=document.querySelectorAll(".item-program");itemProgram&&itemProgram.forEach((e=>{gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom-=200",invalidateOnRefresh:!0}}).fromTo(e,{y:80,opacity:0},{y:0,opacity:1,duration:2})}));const speakers=document.querySelector(".speakers");if(speakers){new Swiper(speakers.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:30,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:speakers.querySelector(".nav-btn--prev"),nextEl:speakers.querySelector(".nav-btn--next")},breakpoints:{992.98:{slidesPerView:3.72,spaceBetween:40},767.98:{slidesPerView:3.3,spaceBetween:30}},speed:800});gsap.timeline({scrollTrigger:{trigger:speakers,start:"top bottom-=200",invalidateOnRefresh:!0}}).fromTo(speakers.querySelector(".swiper"),{xPercent:20,opacity:.5},{xPercent:0,duration:2,opacity:1})}